component VariableCapacitor
  extends OnePort
  C = RealInput()
  # Lower bound for variable capacitance
  parameter Cmin::Dyad.Capacitance = Modelica.Constants.eps
  # Initial Value
  parameter IC::Dyad.Voltage = 0
  # Decision if initial value IC shall be used
  structural parameter UIC::Boolean = false
  variable Q::Dyad.ElectricCharge
relations
  if UIC
    initial v = IC
  end
  Q = identity(max(C, Cmin)) * v
  i = der(Q)
end